# ä»£ç éšæƒ³å½•ç®—æ³•è®­ç»ƒè¥ç¬¬7å¤© ç¬¬454é¢˜.å››æ•°ç›¸åŠ IIï¼Œ383. èµé‡‘ä¿¡ï¼Œç¬¬15é¢˜. ä¸‰æ•°ä¹‹å’Œï¼Œç¬¬18é¢˜. å››æ•°ä¹‹å’Œï¼Œå“ˆå¸Œè¡¨æ€»ç»“ç¯‡

# ä¸€ã€åˆ·é¢˜éƒ¨åˆ†

## 1.1 ç¬¬454é¢˜.å››æ•°ç›¸åŠ II

- åŸæ–‡é“¾æ¥ï¼š[ä»£ç éšæƒ³å½•](https://programmercarl.com/0454.å››æ•°ç›¸åŠ II.html#ç¬¬454é¢˜-å››æ•°ç›¸åŠ ii)
- é¢˜ç›®é“¾æ¥ï¼š[454. å››æ•°ç›¸åŠ  II - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/4sum-ii/description/)

### 1.1.1 é¢˜ç›®æè¿°

ç»™ä½ å››ä¸ªæ•´æ•°æ•°ç»„ `nums1`ã€`nums2`ã€`nums3` å’Œ `nums4` ï¼Œæ•°ç»„é•¿åº¦éƒ½æ˜¯ `n` ï¼Œè¯·ä½ è®¡ç®—æœ‰å¤šå°‘ä¸ªå…ƒç»„ `(i, j, k, l)` èƒ½æ»¡è¶³ï¼š

- `0 <= i, j, k, l < n`
- `nums1[i] + nums2[j] + nums3[k] + nums4[l] == 0`

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums1 = [1,2], nums2 = [-2,-1], nums3 = [-1,2], nums4 = [0,2]
è¾“å‡ºï¼š2
è§£é‡Šï¼š
ä¸¤ä¸ªå…ƒç»„å¦‚ä¸‹ï¼š
1. (0, 0, 0, 1) -> nums1[0] + nums2[0] + nums3[0] + nums4[1] = 1 + (-2) + (-1) + 2 = 0
2. (1, 1, 0, 0) -> nums1[1] + nums2[1] + nums3[0] + nums4[0] = 2 + (-1) + (-1) + 0 = 0
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šnums1 = [0], nums2 = [0], nums3 = [0], nums4 = [0]
è¾“å‡ºï¼š1
```

 **æç¤ºï¼š**

- `n == nums1.length`
- `n == nums2.length`
- `n == nums3.length`
- `n == nums4.length`
- `1 <= n <= 200`
- `-228 <= nums1[i], nums2[i], nums3[i], nums4[i] <= 228`

### 1.1.2 åˆè§æƒ³æ³•

æˆ‘èƒ½ç«‹å³æƒ³åˆ°çš„å°±æ˜¯æŠŠè¿™å››ä¸ªæ•°ç»„åˆ†æˆä¸¤ç»„ï¼Œç»„å†…ä½¿ç”¨ $O(n^2)$ çš„æ–¹æ³•æ±‚å‡ºå’Œï¼Œç„¶åç»„é—´ä½¿ç”¨ä¸¤æ•°ç›¸åŠ çš„æ€è·¯ï¼Œæ•´ä½“æ˜¯ $O(n^2)$ çš„å¤æ‚åº¦ã€‚

è¯´å¹²å°±å¹²ï¼š

```cpp
class Solution {
public:
    int fourSumCount(vector<int>& nums1, vector<int>& nums2, vector<int>& nums3, vector<int>& nums4) {
        int count = 0;
        unordered_map<int,vector<int>> myMap;
        for (int i = 0; i < nums1.size(); i++) {
            for (int j = 0; j < nums2.size(); j++) {
                myMap.insert({nums1[i] + nums2[j], {i, j}});
            }
        }
        for (int i = 0; i < nums3.size(); i++) {
            for (int j = 0; j < nums4.size(); j++) {
                int sum = nums3[i] + nums4[j];
                if (myMap.find(-sum) != myMap.end()) {
                    count++;
                    cout<< myMap[-sum][0] << myMap[-sum][1] << i << j <<endl;
                }
            }
        }
        return count;
    }
};
```

å‘ç°è¿™ä¸€ç‰ˆæ˜¯æœ‰é—®é¢˜çš„ï¼Œå› ä¸ºè¿™ä¸ªmapé‡Œçš„é”®æ˜¯æœ‰å¯èƒ½é‡å¤çš„ã€‚æˆ‘ä»¬éœ€è¦æ±‚çš„æ˜¯æœ‰å¤šå°‘ç§å¯èƒ½çš„ç»“æœã€‚

æ•…è€Œä½¿ç”¨ multimap ã€‚ç„¶è€Œ multimap çš„è¯­æ³•æˆ‘å®åœ¨ä¸ä¼šå†™ï¼Œçœ‹çœ‹é¢˜è§£å§ã€‚

### 1.1.3 çœ‹å½•åæƒ³æ³•

æœ¬é¢˜å…¶å®ä¸éœ€è¦å»æ±‚åˆ°åº•æ˜¯å“ªäº›å››å…ƒç»„ï¼Œè€Œæ˜¯æŠŠå››å…ƒç»„çš„ä¸ªæ•°æ±‚å‡ºæ¥å°±è¡Œã€‚å› æ­¤åªéœ€è¦ç”¨ä¸€ä¸ª unordered_map å³å¯ï¼Œkey è¿˜æ˜¯å­˜äºŒè€…ç›¸åŠ ç»“æœï¼Œvalue å­˜å‡ºç°è¿‡çš„æ¬¡æ•°ã€‚

æœ‰äº†è¿™ä¸ªç‚¹æ‹¨ç«‹å³å†™å‡ºä»£ç ï¼š

```cpp
class Solution {
public:
    int fourSumCount(vector<int>& nums1, vector<int>& nums2, vector<int>& nums3, vector<int>& nums4) {
        int count = 0;
        unordered_map<int,int> myMap;
        //å…ˆå°†ç¬¬ä¸€ç»„æ•°çš„ä¿¡æ¯å­˜åˆ°mapé‡Œ
        for (int i = 0; i < nums1.size(); i++) {
            for (int j = 0; j < nums2.size(); j++) {
                int sum = nums1[i] + nums2[j];
                if(myMap.find(sum) != myMap.end()) {
                    myMap[sum]++;
                }
                else {
                    myMap.insert({sum, 1});
                }
            }
        }
        //ä¹‹åéå†ç¬¬äºŒç»„æ•°ï¼Œæ‰¾å‡ºæ¥ç¬¦åˆæ¡ä»¶çš„ä¸ªæ•°
        for (int i = 0; i < nums3.size(); i++) {
            for (int j = 0; j < nums4.size(); j++) {
                int sum = nums3[i] + nums4[j];
                if (myMap.find(-sum) != myMap.end()) {
                    count += myMap[-sum];
                }
            }
        }
        return count;
    }
};
```

æ¥ä¸‹æ¥è¯¦ç»†çœ‹çœ‹å½•é‡Œæ€ä¹ˆè¯´ã€‚

çœ‹å®Œå½•å‘ç°æƒ³æ³•å’Œæˆ‘ä¸€æ ·ï¼Œä½†æ˜¯ä½¿ç”¨äº†ä¸€äº›stl çš„è¯­æ³•å°±ç®€å•äº†å¾ˆå¤šã€‚æˆ‘ä¹Ÿæ¨¡ä»¿ç€å†™ä¸€éï¼š

```cpp
class Solution {
public:
    int fourSumCount(vector<int>& nums1, vector<int>& nums2, vector<int>& nums3, vector<int>& nums4) {
        int count = 0;
        unordered_map<int,int> myMap;
        //å…ˆå°†ç¬¬ä¸€ç»„æ•°çš„ä¿¡æ¯å­˜åˆ°mapé‡Œ
        for (int num1 : nums1) {
            for (int num2 : nums2) {
                myMap[num1 + num2]++;
            }
        }
        //ä¹‹åéå†ç¬¬äºŒç»„æ•°ï¼Œæ‰¾å‡ºæ¥ç¬¦åˆæ¡ä»¶çš„ä¸ªæ•°
        for (int num3 : nums3) {
            for (int num4 : nums4) {
                count += myMap[-num3 - num4];
            }
        }
        return count;
    }
};
```

### 1.1.4 é‡åˆ°çš„å›°éš¾

è‡ªå·±çš„æ€è·¯è¿˜æ˜¯æœ‰ä¸€åŠå¯¹çš„ï¼Œä½†æ˜¯ç¼ºå¿½ç•¥äº†é¢˜ç›®æƒ³è®©æˆ‘æ±‚çš„ä¸œè¥¿å¹¶æ²¡æœ‰é‚£ä¹ˆå¤æ‚ï¼Œæƒ³å¤šäº†ç„¶ååˆä¸ä¼šå°±å¡ä½äº†ã€‚ä¸è¿‡å½’æ ¹åˆ°åº•è¿˜æ˜¯C++çš„STLæŒæ¡çš„ä¸å¥½ï¼Œéœ€è¦æŠ“ç´§æ—¶é—´æŠŠè¿™ä¸€å—è¡¥ä¸Šæ¥ã€‚

## 1.2 383. èµé‡‘ä¿¡

- åŸæ–‡é“¾æ¥ï¼š[ä»£ç éšæƒ³å½•](https://programmercarl.com/0383.èµé‡‘ä¿¡.html#_383-èµé‡‘ä¿¡)
- é¢˜ç›®é“¾æ¥ï¼š[383. èµé‡‘ä¿¡ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/ransom-note/description/)

### 1.2.1 é¢˜ç›®æè¿°

ç»™ä½ ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼š`ransomNote` å’Œ `magazine` ï¼Œåˆ¤æ–­ `ransomNote` èƒ½ä¸èƒ½ç”± `magazine` é‡Œé¢çš„å­—ç¬¦æ„æˆã€‚

å¦‚æœå¯ä»¥ï¼Œè¿”å› `true` ï¼›å¦åˆ™è¿”å› `false` ã€‚

`magazine` ä¸­çš„æ¯ä¸ªå­—ç¬¦åªèƒ½åœ¨ `ransomNote` ä¸­ä½¿ç”¨ä¸€æ¬¡ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šransomNote = "a", magazine = "b"
è¾“å‡ºï¼šfalse
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šransomNote = "aa", magazine = "ab"
è¾“å‡ºï¼šfalse
```

**ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šransomNote = "aa", magazine = "aab"
è¾“å‡ºï¼štrue
```

**æç¤ºï¼š**

- `1 <= ransomNote.length, magazine.length <= 105`
- `ransomNote` å’Œ `magazine` ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ

### 1.2.2 åˆè§æƒ³æ³•

ä¸å‰é¢çš„ä¸€é“é¢˜ç›®å¾ˆåƒï¼Œæ€è·¯å·®ä¸å¤ªå¤šï¼Œè¿˜æ˜¯ç”¨ä¸€ä¸ª unordered_set å†™ä¸€ä¸‹å°±è¡Œã€‚

```cpp
class Solution {
public:
    bool canConstruct(string ransomNote, string magazine) {
        //ç»Ÿè®¡magazineé‡Œå„å­—æ¯å‡ºç°æ¬¡æ•°
        vector<int> letterCount(26, 0);
        for(char c : magazine) {
            letterCount[c - 'a']++;
        }
        //éå†ransomNoteï¼Œçœ‹å­—æ¯ä¸ªæ•°å¤Ÿä¸å¤Ÿç»„æˆ
        for(char c : ransomNote) {
            letterCount[c - 'a']--;
            if (letterCount[c - 'a'] < 0) {
                return false;
            }
        }
        return true;
    }
};
```

### 1.2.3 çœ‹å½•åæƒ³æ³•

æ€è·¯ä¸€è‡´ï¼Œä¸å¤šè¯´äº†ã€‚

### 1.2.4 é‡åˆ°çš„å›°éš¾

ğŸˆšï¸

## 1.3 ç¬¬15é¢˜. ä¸‰æ•°ä¹‹å’Œ

- åŸæ–‡é“¾æ¥ï¼š[ä»£ç éšæƒ³å½•](https://programmercarl.com/0015.ä¸‰æ•°ä¹‹å’Œ.html#ç¬¬15é¢˜-ä¸‰æ•°ä¹‹å’Œ)
- é¢˜ç›®é“¾æ¥ï¼š[15. ä¸‰æ•°ä¹‹å’Œ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/3sum/)

### 1.3.1 é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` ï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨ä¸‰å…ƒç»„ `[nums[i], nums[j], nums[k]]` æ»¡è¶³ `i != j`ã€`i != k` ä¸” `j != k` ï¼ŒåŒæ—¶è¿˜æ»¡è¶³ `nums[i] + nums[j] + nums[k] == 0` ã€‚è¯·ä½ è¿”å›æ‰€æœ‰å’Œä¸º `0` ä¸”ä¸é‡å¤çš„ä¸‰å…ƒç»„ã€‚

**æ³¨æ„ï¼š** ç­”æ¡ˆä¸­ä¸å¯ä»¥åŒ…å«é‡å¤çš„ä¸‰å…ƒç»„ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [-1,0,1,2,-1,-4]
è¾“å‡ºï¼š[[-1,-1,2],[-1,0,1]]
è§£é‡Šï¼š
nums[0] + nums[1] + nums[2] = (-1) + 0 + 1 = 0 ã€‚
nums[1] + nums[2] + nums[4] = 0 + 1 + (-1) = 0 ã€‚
nums[0] + nums[3] + nums[4] = (-1) + 2 + (-1) = 0 ã€‚
ä¸åŒçš„ä¸‰å…ƒç»„æ˜¯ [-1,0,1] å’Œ [-1,-1,2] ã€‚
æ³¨æ„ï¼Œè¾“å‡ºçš„é¡ºåºå’Œä¸‰å…ƒç»„çš„é¡ºåºå¹¶ä¸é‡è¦ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šnums = [0,1,1]
è¾“å‡ºï¼š[]
è§£é‡Šï¼šå”¯ä¸€å¯èƒ½çš„ä¸‰å…ƒç»„å’Œä¸ä¸º 0 ã€‚
```

**ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šnums = [0,0,0]
è¾“å‡ºï¼š[[0,0,0]]
è§£é‡Šï¼šå”¯ä¸€å¯èƒ½çš„ä¸‰å…ƒç»„å’Œä¸º 0 ã€‚
```

**æç¤ºï¼š**

- `3 <= nums.length <= 3000`
- `-105 <= nums[i] <= 105`

### 1.3.2 åˆè§æƒ³æ³•

å¯ä»¥å°†ä¸‰æ•°ä¹‹å’Œåˆ†æˆ ä¸¤æ•°ä¹‹å’Œ ä¸ ä¸€ä¸ªæ•° çš„å’Œã€‚è¿™æ ·å¤æ‚åº¦å°±å¯ä»¥æ§åˆ¶åœ¨ n^2ã€‚ç„¶åä¸‹ä¸€æ­¥è¿˜è¦æƒ³æ€ä¹ˆæ ·æ‰å¯ä»¥å»é‡ã€‚ä¸è¿‡è¿˜æ˜¯æ„Ÿè§‰æ€è·¯ä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œæˆ‘æƒ³çœ‹çœ‹é¢˜è§£äº†ã€‚

### 1.3.3 çœ‹å½•åæƒ³æ³•

é¦–å…ˆæŠŠæœ¬èŠ‚ä¸»é¢˜â€”â€”å“ˆå¸Œè¡¨æ³•ç»™è¿‡äº†ä¸€éï¼Œç„¶åæ ¹æ®ç†è§£è‡ªå·±å†™äº†ä¸€éï¼š

```cpp
class Solution {
public:
    vector<vector<int>> threeSum(vector<int>& nums) {
        vector<vector<int>> result;

        //å…ˆå°†æ•°ç»„æ’åº
        sort(nums.begin(), nums.end());

        //i æŒ‡å‘ç¬¬ä¸€ä¸ªæ•°å­—
        for (int i = 0; i < nums.size() - 2; i++) {
            //è‹¥ç¬¬ä¸€ä¸ªæ•°éƒ½å¤§äº0äº†ï¼Œè¯´æ˜å’Œä¸€å®šæ‰¾ä¸åˆ°
            if (nums[i] > 0) {
                break;
            }
            //è‹¥ i æ˜¯é‡å¤çš„å…ƒç´ ï¼Œé‚£ä¹ˆæ‰¾åˆ°çš„ä¸‰å…ƒç»„ä¸€å®šæ˜¯é‡å¤çš„
            if (i > 0 && nums[i] == nums[i - 1]) {
                continue;
            }

            //æ— åºé›†åˆå­˜å‚¨ç¬¬äºŒä¸ªæ•°
            unordered_set<int> mySet;
            for (int j = i + 1; j < nums.size(); j++) {
                //å¦‚æœå‡ºç°è¿ç»­å‡ ä¸ªç›¸åŒçš„æ•°å­—ä¸”éƒ½ç¬¦åˆè¦æ±‚ï¼Œåˆ™è¦å»é‡
                if (j >= i + 3 && nums[j] == nums[j - 1] && nums[j - 1] == nums[j - 2]) {
                    continue;
                }

                int target = 0 - (nums[i] + nums[j]);
                if (mySet.find(target) != mySet.end()) {
                    //å¦‚æœé›†åˆé‡Œæœ‰ç›®æ ‡å€¼ï¼Œè¯´æ˜jæŒ‡å‘çš„å…ƒç´ å¯ä»¥å½“åšç¬¬ä¸‰ä¸ªæ•°
                    result.push_back({nums[i], target, nums[j]});
                    //ä¸ºäº†å»é‡å°†è¯¥ç›®æ ‡å€¼åˆ å»
                    mySet.erase(target);
                }
                else {
                    //å¦‚æœé›†åˆé‡Œæ²¡æœ‰ç›®æ ‡å€¼ï¼Œé‚£ä¹ˆå°†ç°åœ¨jæŒ‡å‘çš„å…ƒç´ å½“åšç¬¬äºŒç»™æ•°å­˜è¿›é›†åˆ
                    mySet.insert(nums[j]);
                }
            }
        }

        return result;
    }
};
```

å‘ç°è¿™ä¸ªæ–¹æ³•ç¡®å®å¦‚åŒå½•é‡Œæ‰€è¯´ï¼Œå®åœ¨æ˜¯æœ‰äº›éº»çƒ¦ã€‚è¿™ä¸ªå»é‡çš„æ€è·¯çœ‹èµ·æ¥ä»£ç ä¸å¤šï¼Œä½†å®é™…ä¸Šå¦‚æœæ²¡æœ‰é¢˜è§£çš„æç¤ºæˆ‘æƒ³æˆ‘å¾ˆéš¾æƒ³å‡ºæ¥ã€‚å‡ ä¸ªæ¡ä»¶ä¸€èµ·å¯ä»¥å®Œæˆå»é‡æ“ä½œä¹Ÿä¸æ˜¯å¾ˆç›´è§‚ã€‚æ­¤å¤–ï¼Œå³ä½¿æ ¸å¿ƒçš„å“ˆå¸Œä¹Ÿä¸æ˜¯é‚£ä¹ˆå¥½æƒ³çš„ï¼Œç¡®å®šç¬¬ä¸€ä¸ªæ•°ä¹‹åï¼Œç¬¬äºŒä¸ªæŒ‡é’ˆåˆæ˜¯æŒ‡å‘ç¬¬äºŒä¸ªæ•°åˆæ˜¯æŒ‡å‘ç¬¬ä¸‰ä¸ªæ•°çš„ï¼Œç¬¬ä¸€éçœ‹çš„æ—¶å€™ç¡®å®ç†è§£ä¸äº†ã€‚

æ¥ä¸‹æ¥ç ”ç©¶ä¸€ä¸‹å½•é‡Œæä¾›çš„åŒæŒ‡é’ˆæ³•ï¼Œæ€è·¯å¤§æ¦‚ç†æ¸…äº†ï¼Œå°±æ˜¯å…ˆç¡®å®šç¬¬ä¸€ä¸ªæ•°ï¼Œç„¶åç”¨ left å’Œ right æŒ‡é’ˆåˆ†åˆ«æŒ‡å‘ç¬¬ä¸€ä¸ªæ•°åé¢åºåˆ—çš„å¤´å°¾ã€‚ç„¶åç”±äºæ˜¯æ’åºè¿‡çš„ï¼Œé‚£ä¹ˆè®¡ç®—ä¸‰æ•°ä¹‹å’Œå¤§äº†ï¼Œå°±å³æŒ‡é’ˆå·¦ç§»ï¼Œå°äº†å°±å·¦æŒ‡é’ˆå³ç§»ã€‚è¿™é‡Œä¹Ÿéœ€è¦æ³¨æ„å»é‡çš„æ“ä½œï¼Œä¸è¿‡è¿™ä¸ªå»é‡å°±æ¯”å‰é¢å“ˆå¸Œè¡¨æ³•çš„ç›´è§‚è®¸å¤šã€‚å¯¹äºç¬¬ä¸€ä¸ªæ•°ï¼Œè¿˜æ˜¯æ²¿ç”¨ä»¥å‰çš„å»é‡æ–¹å¼ï¼Œå¦‚æœå‘ç°è¯¥æ•°ä¸å‰é¢ä¸€ä¸ªæ•°ç›¸åŒï¼Œè¯´æ˜è¯¥æ‰¾çš„ç»“æœéƒ½æ‰¾å®Œäº†ï¼Œç›´æ¥continueï¼›å¯¹äºç¬¬äºŒä¸ªæ•°ï¼ˆleftï¼‰ï¼Œæ‰¾åˆ°ç»“æœä¹‹åå°±å‘å³æ‰¾ç¬¬ä¸€ä¸ªä¸ä¹‹ä¸åŒçš„æ•°ï¼›å¯¹äºç¬¬ä¸‰ä¸ªæ•°ï¼ˆrightï¼‰ï¼Œæ‰¾åˆ°ç»“æœä¹‹åå°±å‘å·¦æ‰¾ç¬¬ä¸€ä¸ªä¸ä¹‹ä¸åŒçš„æ•°ã€‚ç„¶åå¾ªç¯æ¡ä»¶ä¿æŒ left < right å³å¯ã€‚

ä»£ç å¦‚ä¸‹ï¼š

```cpp
class Solution {
public:
    vector<vector<int>> threeSum(vector<int>& nums) {
        vector<vector<int>> result;
        sort(nums.begin(), nums.end());

        for (int i = 0; i < nums.size() - 2; i++) {
            //å‘ç°ç¬¬ä¸€ä¸ªæ•°å¤§äº0ç›´æ¥é€€å‡º
            if (nums[i] > 0) break;
            //å¯¹ç¬¬ä¸€ä¸ªæ•°å»é‡
            if (i > 0 && nums[i] == nums[i - 1]) {
                continue;
            }
            int left = i + 1;
            int right = nums.size() - 1;
            //æ‰¾ç¬¬äºŒä¸ªæ•° å’Œ ç¬¬ä¸‰ä¸ªæ•°
            while (left < right) {
                if ((nums[i] + nums[left] + nums[right]) > 0) {
                    //å¤§äº†ï¼Œå³è¾¹å‘å·¦ç§»
                    right--;
                }
                else if ((nums[i] + nums[left] + nums[right]) < 0) {
                    //å°äº†ï¼Œå·¦è¾¹å‘å³ç§»
                    left++;
                }
                else {
                    //æ‰¾åˆ°ç¬¦åˆçš„è§£
                    result.push_back({nums[i], nums[left], nums[right]});
                    // cout << "æ­¤æ—¶i = " << i << endl;
                    // cout << "æ­¤æ—¶left = " << left << endl;
                    // cout << "æ­¤æ—¶right = " << right << endl;
                    left++;
                    right--;
                    //ç¬¬äºŒä¸ªæ•°å»é‡
                    while (left < right && nums[left] == nums[left - 1]) {
                        left++;
                    }
                    //ç¬¬ä¸‰ä¸ªæ•°å»é‡
                    while (left < right && nums[right] == nums[right + 1]) {
                        right--;
                    }
                }
            }
        }

        return result;
    }
}
```

### 1.3.4 é‡åˆ°çš„å›°éš¾

- å“ˆå¸Œçš„æ€è·¯ä¸€ä¸‹å­æƒ³ä¸åˆ°
- å¯¹äºå»é‡ä¸€ä¸‹å­æƒ³ä¸åˆ°
- æ˜å¤©å†å†™ä¸€éåŠ æ·±å°è±¡ï¼Œæˆ‘ä¼šå†™å°±æ˜¯æˆ‘è‡ªå·±çš„çŸ¥è¯†ğŸ˜‹

## 1.4 ç¬¬18é¢˜. å››æ•°ä¹‹å’Œ

- åŸæ–‡é“¾æ¥ï¼š[ä»£ç éšæƒ³å½•](https://programmercarl.com/0018.å››æ•°ä¹‹å’Œ.html#ç¬¬18é¢˜-å››æ•°ä¹‹å’Œ)
- é¢˜ç›®é“¾æ¥ï¼š[18. å››æ•°ä¹‹å’Œ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/4sum/description/)

### 1.4.1 é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ªç”± `n` ä¸ªæ•´æ•°ç»„æˆçš„æ•°ç»„ `nums` ï¼Œå’Œä¸€ä¸ªç›®æ ‡å€¼ `target` ã€‚è¯·ä½ æ‰¾å‡ºå¹¶è¿”å›æ»¡è¶³ä¸‹è¿°å…¨éƒ¨æ¡ä»¶ä¸”**ä¸é‡å¤**çš„å››å…ƒç»„ `[nums[a], nums[b], nums[c], nums[d]]` ï¼ˆè‹¥ä¸¤ä¸ªå››å…ƒç»„å…ƒç´ ä¸€ä¸€å¯¹åº”ï¼Œåˆ™è®¤ä¸ºä¸¤ä¸ªå››å…ƒç»„é‡å¤ï¼‰ï¼š

- `0 <= a, b, c, d < n`
- `a`ã€`b`ã€`c` å’Œ `d` **äº’ä¸ç›¸åŒ**
- `nums[a] + nums[b] + nums[c] + nums[d] == target`

ä½ å¯ä»¥æŒ‰ **ä»»æ„é¡ºåº** è¿”å›ç­”æ¡ˆ ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [1,0,-1,0,-2,2], target = 0
è¾“å‡ºï¼š[[-2,-1,1,2],[-2,0,0,2],[-1,0,0,1]]
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šnums = [2,2,2,2,2], target = 8
è¾“å‡ºï¼š[[2,2,2,2]]
```

**æç¤ºï¼š**

- `1 <= nums.length <= 200`
- `-109 <= nums[i] <= 109`
- `-109 <= target <= 109`

### 1.4.2 åˆè§æƒ³æ³•

å¯ä»¥æ²¿ç”¨ä¸Šä¸€é¢˜ä¸‰æ•°ä¹‹å’Œçš„æ€è·¯ï¼Œåªæ˜¯ç¬¬ä¸€ä¸ªæ•°å˜æˆä¸¤ä¸ªæ•°çš„å’Œäº†ï¼Œä¹Ÿå°±æ˜¯éœ€è¦ 2 å±‚ for å¾ªç¯ã€‚å†™ä¸€ä¸‹ï¼š

```cpp
class Solution {
public:
    vector<vector<int>> fourSum(vector<int>& nums, int target) {
        vector<vector<int>> result;
        if (nums.size() < 4) {
            return result;
        }

        sort(nums.begin(), nums.end());

        //å››ä¸ªæ•°åˆ†åˆ«å¯¹åº” a,b,c,d
        //aç”¨iæ¥æŒ‡å‘
        for (int i = 0; i < nums.size() - 3; i++) {
            //å¯¹aå»é‡
            if (i > 0 && nums[i - 1] == nums[i]) {
                continue;
            }
            //ç¬¬bç”¨jæ¥æŒ‡å‘
            for (int j = i + 1; j < nums.size() - 2; j++) {
                //å¯¹bå»é‡
                if (j > i + 1 && nums[j - 1] == nums[j]) {
                    continue;
                }

                int left = j + 1;
                int right = nums.size() - 1;

                //å¼€å§‹æŸ¥æ‰¾
                while (left < right) {
                    double sum = 0;
                    sum += nums[i];
                    sum += nums[j];
                    sum += nums[left];
                    sum += nums[right];
                    if (sum > target) {
                        right--;
                    }
                    else if (sum < target) {
                        left++;
                    }
                    else {
                        result.push_back({nums[i], nums[j], nums[left], nums[right]});
                        cout << i << " " << j << " " << left << " " << right << endl;
                        //å›ºå®šç§»åŠ¨ä¸€ä½
                        left++;right--;
                        //cdå»é‡
                        while (left < right && nums[left - 1] == nums[left]) {
                            left++;
                        }
                        while (left < right && nums[right + 1] == nums[right]) {
                            right--;
                        }
                    }
                }
            }
        }

        return result;
    }
};
```

è°ƒè¯•çš„æ—¶å€™å‘ç°å››æ•°ç›¸åŠ å¯èƒ½ä¼šè¶…å‡º int çš„èŒƒå›´ï¼Œæˆ‘ç›´æ¥ç”¨doubleç±»å‹æ¥å­˜ä¹Ÿé€šè¿‡äº†ï¼Œçœ‹çœ‹é¢˜è§£å¯¹è¿™ä¸ªé—®é¢˜æ€ä¹ˆå¤„ç†çš„ã€‚

### 1.4.3 çœ‹å½•åæƒ³æ³•

å½•é‡Œæä¾›äº†ä¸€ç§å‰ªæçš„æ€è·¯ï¼Œå¯ä»¥å‚è€ƒå­¦ä¹ ä¸€ä¸‹ï¼š `if(nums[i] > target && (nums[i]) > 0 && target > 0)`ã€‚æˆ‘ç›´æ¥æ²¡æœ‰å‰ªæï¼Œå½•çš„æ–¹æ³•åº”è¯¥å¯ä»¥èŠ‚çœä¸€ç‚¹æ—¶é—´ã€‚

### 1.4.4 é‡åˆ°çš„å›°éš¾

æ²¿ç”¨ä¸‰æ•°ä¹‹å’Œçš„ä»£ç ï¼Œå‘ç°ç¬¬ä¸€å±‚å‰ªæç”¨ä¸äº†ï¼Œå‘ç°è¿™ä¸ªé”™è¯¯ä¹‹åç›´æ¥ä¸ç”¨å‰ªæå³å¯ã€‚

å¯¹äº sum æº¢å‡ºé—®é¢˜ï¼Œå½•ä½¿ç”¨äº† long æ¥å­˜å‚¨ï¼Œä¹Ÿæ˜¯ä¸€ç§æ–¹æ³•ã€‚

## 1.5 å“ˆå¸Œè¡¨æ€»ç»“ç¯‡

- åŸæ–‡é“¾æ¥ï¼š[ä»£ç éšæƒ³å½•](https://programmercarl.com/å“ˆå¸Œè¡¨æ€»ç»“.html#å“ˆå¸Œè¡¨æ€»ç»“ç¯‡)

å“ˆå¸Œè¡¨æœ€ä¸»è¦çš„ç”¨é€”å°±æ˜¯åˆ¤æ–­ä¸€ä¸ªå…ƒç´ æ˜¯å¦å‡ºç°è¿‡ã€‚C++ å¯ä»¥ä½¿ç”¨æ•°ç»„ã€é›†åˆã€map æ¥ä½œä¸ºå®¹å™¨æ¥è£…æ•°æ®ã€‚æ•°ç»„é€‚ç”¨äºå…ƒç´ ä¸ªæ•°å·²çŸ¥ä¸”æœ‰é™çš„æƒ…å†µï¼Œå¦‚ 26 ä¸ªè‹±æ–‡å­—æ¯ï¼Œé›†åˆæ˜¯å¯¹æ•°ç»„æ— æ³•å¤„ç†æ— é™å…ƒç´ çš„æƒ…å†µçš„è¡¥å……ï¼Œè€Œ map ä¸»è¦å¯ä»¥ç”¨æ¥å¤„ç†é”®å€¼å¯¹ã€‚

æœ¬èŠ‚å¯¹ multimap æ²¡æœ‰è®²è§£ï¼Œå¦‚ä½•ä½¿ç”¨æˆ‘ä¹Ÿä¸æ¸…æ¥šï¼Œè¿™ä¸ªå°±æ ‡è®°ä¸€ä¸‹ç•™ä½ï¼Œä»¥åå¦‚æœç”¨çš„åˆ°çš„è¯å†å»è¡¥å……å­¦ä¹ ã€‚

# äºŒã€æ€»ç»“ä¸å›é¡¾

å¯¹å“ˆå¸Œè¡¨çš„ç”¨æ³•æœ‰äº†æ›´ä¸ºæ·±åˆ»çš„äº†è§£äº†ï¼ŒåŒæ—¶ä¹Ÿå¯¹åŒæŒ‡é’ˆåŠ æ·±äº†å°è±¡ã€‚æœŸå¾…åç»­å¯¹åŒæŒ‡é’ˆçš„å¤§æ€»ç»“ã€‚
