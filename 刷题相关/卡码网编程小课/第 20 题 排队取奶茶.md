[TOC]

# 题目描述

**题目描述**

假设有一家奶茶店，现在有一些人在排队等待取奶茶，同时也有人在取奶茶。 请你设计一个程序模拟这种情况下的奶茶队列管理。

假设每个人取奶茶的时间非常短，可以忽略不计，只需要考虑队列中的操作。 

队列操作说明： 

1. 当操作为 1 时，表示有人已经取走奶茶，从队列中删除该人的信息。
2. 当操作为 2 时，表示有新人加入排队，将该人的信息加入队列。 

在一系列操作之后，你需要回答：下一个取奶茶的人是谁？

**输入描述**

第一行有一个整数 n，代表初始队列有 n 个人。 

第二行有 n 个字符串，代表当前奶茶队列中的人。 

第三行为一个整数 m，代表接下来将会有 m 次操作。 

接下来一共有 m 行，代表共有 m 次操作。 

如果是操作 1，那么该行只会有一个数字，代表有人取走了奶茶。
如果是操作 2，那么该行有一个数字和一个字符串，第一个数字 2 表示有人加入了奶茶队列，第二个字符串代表新加入的奶茶队列的人。

**输出描述**

输出只有一行，为下一个取奶茶的人。 如果已经没有去奶茶的人了，输出“There are no more people in the queue.”。

**输入示例**

```
5
Giselle Winter Aubree Wrenley Royalty
3
1
1
2 Andrew
```

**输出示例**

```
Aubree
```

# 编程小课

## 前言

本节课我们会来学习队列这一数据结构，主要包括以下内容

- 队列的基本概念（队头、队尾）和特点（先入先出）
- 入队、出队、获取队头元素和判断队列是否为空等基本操作
- `queue`模块
- 列表模拟队列

## 队列

> 关于队列的更多介绍，[可以移步至代码随想录官方网站查看](https://programmercarl.com/栈与队列理论基础.html)

队列，顾名思义，和排队的队列结构是类似的，在排队的过程中，想要加入队列，需要在队伍的最后一位（**也被称为队尾**）入队，想要离开队列，需要从队伍的第一位（**也被称为队头**）出队。

![](assets/第%2020%20题%20排队取奶茶/image-20230914160949705-6560357-20231020105111395-8910511.png)

从图中可以看出，队列在队尾那一侧进行插入操作（**入队**），在队头那一侧进行删除操作（**出队**），而且是**先进先出 FIFO**(最先进入队列的元素将首先被移除)。

队列在计算机领域中应用也十分广泛，比如在网络通信中，请求和响应通常以队列的形式进行排队，以确保数据按照正确的顺序进行传输，又比如说不同进程可以通过消息队列来传递数据和消息。

## 队列的操作

在 Python 语言中，标准库中的 `queue` 模块提供了多种队列的实现，比如普通队列和优先级队列，因此你可以使用 `queue.Queue` 类来创建队列，不过我们依旧可以使用列表来模拟队列的实现。

队列的常用操作主要有以下几种：

- 获取队列的长度，即队列中元素的数量，通常使用列表的 `len()` 函数来获取
- 判断队列是否为空，可以通过 `if not queue` 来判定
- 入队操作，将新的元素添加到队列的尾部，使用列表的 `append()` 函数来实现
- 出队操作，获取并移除队列的头部元素，可以通过 `pop(0)` 传递索引来实现。
- 访问队列的头部元素，但不会将其移除，使用索引访问第一个元素 `queue[0]`

```python
# 导入queue模块
import queue

# 创建一个队列
q = queue.Queue()

# 通过put()实现入队操作
q.put(1)
q.put(2)
q.put(3)

# 通过get()实现出队操作
item = q.get()  # 出队并返回队列中的元素
print(item)  # 输出 1
```

下面给出的示例则展示了如何通过列表模拟队列

```python
queue = []

# 入队操作
queue.append("Tom")
queue.append("Jerry")
queue.append("Mike")

# 出队操作
removed_person = queue.pop(0)  # 弹出并返回队列中的第一个元素

# 判断队列是否为空：
if not queue:
    print("队列为空")
else:
    print(f"队头元素: {queue[0]}")
```

### 代码编写

照例, 第一行要接收整数 n 的输入，表示队列中有 n 个人, 然后接收一行字符串作为输入，表示取奶茶的人，将之切割成列表。

```python
# 整数 n 表示列表有n个人
n = int(input())
# 将输入字符串分割成列表
queue = input().split()
```

队列已经构建完毕，接下来需要接收数字 m 和 m 个整数的输入，表示取奶茶的操作，如果数字为 1，表示有人取走了奶茶，即出队操作，如果数字为 2，表示有人新加入了奶茶队列，即入队操作，这种“如果”的条件，需要使用到  `if-else`  结构

```python
# 读取操作次数
m = int(input())
# 循环处理每次操作
for _ in range(m):
    # 获取对队列的操作以及编号，可能有1位数字或者两位数字，将之拆分成列表
    operation = input().split()
    # 第一位数字表示对队列的操作
    opt = int(operation[0])
    # 如果数字为1，表示有人取走了奶茶
    if opt == 1:
        # 出队操作
    # 如果数字为2，表示有人新加入了奶茶队列
    elif opt == 2:
        # 入队操作
```

注意上述操作中，需要考虑出队操作中队列是否为空的情况，当且仅当“操作指令为出队，队列中的元素不为空，即 `if queue` 为 `True` 时”才能出队。

> 当删除数据结构中的元素时，都应该考虑结构中元素是否已经为空的情况

出队操作使用 `pop(0)` 从列表中移除最后一个元素即可，而入队操作需要使用 `append()` 函数

```python
# 操作1: 有人取走了奶茶
if opt == 1:
    if queue:
        # 通过pop(0)操作移除列表的第一个元素
        removed_person = queue.pop(0)  # 出队
# 操作2: 有人新加入了队列
elif opt == 2:
    # 获取新加入队列的人的名称
    new_person = operation[1]
    # 通过append()操作向队列中添加元素
    queue.append(new_person)  # 入队
```

当执行完所有操作后，如果队列为空，说明没有取奶茶的人，输出“There are no more people in the queue..”，如果仍有元素，则输出下一个取奶茶的人。

```python
# 判断队列是否为空
if not queue:
    print("There are no more people in the queue.")
else:
    print(queue[0])  # 取出队头元素，即列表的第一个元素
```

完整的代码如下：

```python
# 读取初始队列长度
n = int(input())
# 读取初始队列中的排队名称
queue = input().split()

# 读取操作次数
m = int(input())
# 循环处理每次操作
for _ in range(m):
    operation = input().split()
    opt = int(operation[0])

    if opt == 1:
        # 操作1: 出队
        if queue:
            removed_person = queue.pop(0)  # 出队，移除列表的第一个元素
    elif opt == 2:
        # 操作2: 入队
        new_person = operation[1]
        queue.append(new_person)  # 入队
# 判断队列是否为空
if not queue:
    print("There are no more people in the queue.")
else:
    print(queue[0])  # 取出队头元素，即列表的第一个元素
```

## 总结

本节课中，我们通过一道编程题练习了队列的基本操作，并对队列先入先出的特点有了初步的认识。

那队列和上一节课中学习到的栈之间有什么区别呢？

总结来说，栈是只能在尾部进行插入和删除操作的数据结构，队列是在尾部进行插入操作、头部进行删除操作的数据结构。

对于栈和队列的介绍就到这里了，但是栈和队列的算法题目并不少，大家可以到代码随想录官方网站[栈和队列专题](https://programmercarl.com/栈与队列理论基础.html)查看更多的内容。

# 代码

```python
n = int(input())
queue = list(input().split())
m = int(input())
for _ in range(m):
    data = input().split()
    if data[0] == '1':
        queue.pop(0)
    elif data[0] == '2':
        queue.append(data[1])

if queue:
    print(queue[0])
else:
    print("There are no more people in the queue.")
```

