[TOC]

# 题目描述

**题目描述**

给定一个长度为偶数位的字符串，请编程实现字符串的奇偶位互换。

**输入描述**

输入包含多组测试数据。
输入的第一行是一个整数n，表示有测试数据。（整个输入中，只有一个n）
接下来是n组测试数据，保证串长为偶数位(串长<=50)。

**输出描述**

请为每组测试数据输出奇偶位互换后的结果，每组输出占一行。

**输入示例**

```
2
0aa0
bb00
```

**输出示例**

```
a00a
bb00
```

# 初见思路

```python
n = int(input())
for _ in range(n):
    str_list = list(input())
    left = 0
    right = 1
    while right < len(str_list):
        temp = str_list[left]
        str_list[left] = str_list[right]
        str_list[right] = temp
        left += 2
        right += 2
    print(''.join(str_list))
```

# 编程小课

## 前言

本节课我们将通过一个案例实现字符串的奇偶位互换。

奇偶位互换是指字符串的奇数位和偶数位相互交换位置，比如下面的字符串 `"0aa0"` , 前两位相互交换，后两位相互交换，返回的结果是 `a00a`

![](assets/第%2012%20题%20位置互换/20231027112320.png)

想要完成字符串交换，需要完成以下步骤：

- 遍历字符串
- 第 1 位和第 2 位交换
- 第 3 位和第 4 位交换
- ...
- 第 i 位和第 i + 1 位交换
- 第 i+2 位和第 i+3 位交换

## 交换变量

想象一下，你现在手里有两个杯子，一个杯子里装了雪碧，另一个杯子里装了可乐，要怎么把这两个杯子的饮料相互交换呢？

常规情况下当然是不可能把这两个杯子里的饮料直接进行交换的，我们应该引入第三个杯子。

![](assets/第%2012%20题%20位置互换/20231027112406.png)

- 把第一个杯子里的雪碧倒入第三个杯子中，这样第一个杯子就成了空杯子，第三个杯子里盛放的是雪碧
- 再把第二个杯子里的可乐倒入第一个杯子中，这样第二个杯子就是空的，第一个杯子里装的是可乐
- 再把之前倒入第三个杯子里的雪碧倒入第二个杯子中，这样第二个杯子装的是雪碧

经过上面的操作，就将两个杯子里的可乐和雪碧完成了交换，该操作可以用下面的代码表示：

```python
a = 5
b = 10
# 步骤 1：取 a 的值，赋给临时变量 tmp
temp = a
# 步骤 2：取 b 的值，赋给 a 变量
a = b
# 步骤 3：将 tmp，赋给 b 变量
b = temp
```

不过，Python有十分简洁的写法可以交换两个变量的值：元组解构。

```python
a = 5
b = 10
# a 和 b的值交换
a, b = b, a
```

因此我们可以实现一个简易的函数，用于实现变量交换

```python
def swap(a, b):
    return b, a
```

## 代码编写

在本道题目中，我们依旧需要先 获取 变量 n 和 n 次循环迭代

```python
n = int(input())	# 获取 n 行测试数据
# 循环迭代 n 次
for _ in range(n):
    s = input() # 获取每行的字符串
```

为了方便遍历和取得每一位字符，可以将字符串 s 转换为字符列表

```python
# 字符串的每个字符都是列表的一个元素
chs = list(s)
```

接着，我们需要遍历字符列表，并将当前字符和下一位字符两两交换，当完成第一位和第二位的交换之后，我们应该控制迭代的步数为 2，执行第三位和第四位的交换。

```python
for i in range(0, len(chs)-1, 2):
    # 字符交换
```

调用名为 `swap` 的函数，将相邻的字符 `chs[i]` 和 `chs[i+1]` 作为参数传递，完成字符交换。

```python
chs[i], chs[i+1] = swap(chs[i], chs[i+1])
```

最后将已经完成字符交换的 `chs` 列表通过`join()`方法拼接成字符串并输出。

```python
print("".join(chs))
```

完整代码如下：

```python
def swap(a, b):
    return b, a

n = int(input())
for _ in range(n):
    s = input()
    # 字符串的每个字符都称为列表的一个元素
    chs = list(s)
        # 遍历列表，注意迭代的步数为2
    for i in range(0, len(chs)-1, 2):
        # 交换变量
        chs[i], chs[i+1] = swap(chs[i], chs[i+1])
        # 最后将字符列表转换成字符串输出
    print("".join(chs))
```

## 扩展：元组

在介绍交换变量的时候，我们提到了元组结构，并且在列表章节的时候，我们已经提到了元组也是一种序列，元组是一种不可变的结构，除此之外，它的使用几乎和列表类似。

创建元组 `tuple` 很简单，只需要在括号中添加元素，元素与元素之间使用逗号分隔。

> 需要注意的一点是，元组中只有一个元素时，需要在元素后面添加逗号，即`(1,)`。否则一个 `(1)` 在 python 解释器看来，可能就是一个普通的表达式。

```python
my_tuple = (1, 2, 3, 4, 5) # 元组中的数据类型可以不同
# 访问元组元素
print(my_typle[0])

# 遍历元素
for element in my_tuple:
    print(element)
```

除了上面的操作外，元组还有一个“拆包”的功能，元组拆包是指将元组中的元素分别赋值给多个变量的过程，听起来很不知所云，但是示例却十分简单。

```python
my_tuple = (1,2,3)
# 使用元组拆包将元组的元素分配给多个变量
a, b ,c  = my_tuple
```

在上面的操作中，我们使用元组拆包将元组中的每个元素分别赋值给变量 `a`、`b` 和 `c`，这样就可以快速访问元组中的元素。

所以 `a, b = b, a` 这种操作实际上是将，`b` 和 `a` 的值构成一个元组 `(b, a)`，然后使用元组解构("拆包")将这个元组中的值分别赋给 `a` 和 `b`，这样就完成了交换。

## 总结

字符串的学习也到此为止了，但字符串的应用会无处不在，经过这两节内容的学习，你是否对字符串有了更深的认识呢？