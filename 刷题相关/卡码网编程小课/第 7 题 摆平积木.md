[TOC]

# 题目描述

**题目描述**

小明很喜欢玩积木。一天，他把许多积木块组成了好多高度不同的堆，每一堆都是一个摞一个的形式。然而此时，他又想把这些积木堆变成高度相同的。但是他很懒，他想移动最少的积木块来实现这一目标，你能帮助他吗？

![](assets/第%207%20题%20摆平积木/1007_1_20230718172742_56975.x-ms-bmp)

**输入描述**

输入包含多组测试样例。每组测试样例包含一个正整数n，表示小明已经堆好的积木堆的个数。
接着下一行是n个正整数，表示每一个积木堆的高度h，每块积木高度为1。其中1<=n<=50,1<=h<=100。
测试数据保证积木总数能被积木堆数整除。
当 n=0 时，输入结束。

**输出描述**

对于每一组数据，输出将积木堆变成相同高度需要移动的最少积木块的数量。
在每组输出结果的下面都输出一个空行。

**输入示例**

```
6
5 2 4 1 7 5
0
```

**输出示例**

```
5
```

# 初见思路

可以先计算一下最终的高度均值，然后所有大于均值的积木块拿出来给小于均值的积木块，这样就是移动最少的积木块数量，然后本题包含多组输入，因此可以添加 while True 逻辑。

代码如下：

```python
n = input()
data_line = list(map(int, input().split()))
data_line_reverse = data_line[-1::-1]
for i in range(len(data_line)):
    print(data_line_reverse[i], end=' ')
print()
for i in range(0, len(data_line), 2):
    if i % 2 == 0:
        print(data_line[i], end=' ')
```

# 编程小课

## 前言

上节课中我们学习了列表的使用，接下来我们就用一道题目来练习它的遍历和访问操作。

## 题目分析

题目要求我们把 n 堆高度不同的积木分成 n 堆高度相同的积木，假设我们面前真的有这样一堆积木，应该怎么做才能划分均等呢？

![](assets/第%207%20题%20摆平积木/image-20230919172117281-8741289.png)

要想实现题目的要求，需要下面两步操作：

- 第一步：我们需要数清每一摞积木的数量，把他们的总数相加，这样我们就知道积木的总数量，再把得到的结果除以 n , 就得到了在高度相同的情况下，每一摞积木的块数。
- 第二步：对于超过平均值的积木，计算当前的积木数量和平均值的差值，把多的积木数量移到缺少的部分，直到积木高度相同。

![](assets/第%207%20题%20摆平积木/image-20230919172456205-8741289.png)

## 代码编写

根据题目要求，输入包含多组测试样例，也就是说会有多个 n 的输入, 当输入 n 为 0 时，输入结束，我们可以写出下面的基础代码：

```python
while True:
    try:
        # 变量n代表积木堆的个数
        n = int(input())
        # 当输入的n为0时，退出循环
        if n == 0:
            break
    except:
        break
```

积木是一组数据，可以使用上一节中学习的列表来进行处理，将输入的数据拆分成字符列表，然后使用`map`转为整数，最后转为列表。

```python
# 将输入的一行数据转为整数列表
nums = list(map(int, input().split()))
```

列表计算总积木数量十分方便，直接使用`sum()`函数即可。

```python
# 使用sum()对列表求和，获取总积木的个数
total_sum = sum(nums)
```

接着使用之前学习到的算术运算符计算 n 堆积木的平均值，为了使结果是整数，应该使用整除符号`//`

```python
# 计算平均值， // 代表 整除
average = total_sum // n
```

对于每一摞积木，如果当前摞积木的数量超过平均值，也就是`当前摞积木数量 > 平均值`, 则把超出平均值数量的积木移到不足平均值的那一摞，超过的数量表示需要挪动的次数。

```python
# result定义输出结果，表示积木需要挪动的次数
result = 0
# 遍历每一摞积木
for num in nums:
  # 如果当前摞的积木超过平均值, num表示当前摞的积木数量
    if num > average:
      # 则把超出平均值数量的积木移到不足平均值的地方，超出的数量就是需要挪动的次数
      # result = result + (nums - average)的简写形式
        result += num - average
```

最后按照题目要求，输出结果即可

```python
# 输出结果
print(result)
print()
```

完整的代码如下：

```python
while True:
    try:
        n = int(input())
        if n == 0:
            break
        # 获取每堆积木数量，将之转换成列表
        nums = list(map(int, input().split()))
        # 计算积木总数量
        total_sum = sum(nums)
        # 计算平均值
        average = total_sum // n
        # 定义输出结果
        result = 0
        # 遍历每一摞积木
        for num in nums:
        # 如果当前摞的积木超过平均值, 把超出平均值数量的积木移到不足平均值的地方，超出的数量就是需要挪动的次数
            if num > average:
                result += num - average
        # 输出结果
        print(result)
        print()
    except:
        break
```

## 总结

本节课我们练习了列表的遍历和元素访问操作，这是因为列表的遍历是经常使用的，下节课我们会学习运算的一些操作。