- [题目链接](https://leetcode.cn/problems/two-sum/)
- [代码随想录链接](https://programmercarl.com/0001.%E4%B8%A4%E6%95%B0%E4%B9%8B%E5%92%8C.html#%E7%AE%97%E6%B3%95%E5%85%AC%E5%BC%80%E8%AF%BE)

## 题目思路

第一种思路就是暴力搜索，复杂度是 n 平方。

第二种思路就是先求出 target 和其中一个数的差，然后查询这个差在不在数组里，可以用 set 来优化查询的复杂度。总体复杂度应该是 n。

## 代码实现

```python
class Solution:
    def twoSum(self, nums: List[int], target: int) -> List[int]:
        temp = 0
        ans = []
        nums_set = set(nums) # 设置一个集合，单纯用来查询
        for i in range(len(nums)):
            temp = target - nums[i]
            if temp in nums_set:
                # 继续遍历数组，看看能不能找到 temp
                for j in range(i + 1, len(nums)):
                    if nums[j] == temp:
                        ans.append(i)
                        ans.append(j)
                        return ans
        return ans
```

## 看录后想法

录里至少看到了 2 个优化点，第一个就是可以使用 dict，键用来存数字，值用来存下标，这样返回下标就会简单直接不少；第二个优化点就是先遍历，每次存储遍历后的结果，然后反向查询是否存在，这样一次遍历即可完成，逻辑更简洁。

优化的代码实现：

```python
class Solution:
    def twoSum(self, nums: List[int], target: int) -> List[int]:
        nums_dict = dict()
        ans = list()
        for i in range(len(nums)):
            diff = target - nums[i]
            if diff in nums_dict.keys():
                ans.append(nums_dict[diff])
                ans.append(i)
                return ans
            nums_dict[nums[i]] = i
        return ans
```

## 小结

有时候代码确实可以有一点优化的空间，看录确实感觉有所收获的。