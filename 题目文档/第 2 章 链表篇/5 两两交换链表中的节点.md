- [题目链接](https://leetcode.cn/problems/swap-nodes-in-pairs/)
- [代码随想录链接](https://programmercarl.com/0024.%E4%B8%A4%E4%B8%A4%E4%BA%A4%E6%8D%A2%E9%93%BE%E8%A1%A8%E4%B8%AD%E7%9A%84%E8%8A%82%E7%82%B9.html)

## 题目思路

首先想到的可以用 3 个指针来进行操作，每次交换后面两个指针指向的节点。不过需要考虑一些边界条件，前两个节点的交换比较好解决，只需要创建一个虚拟头节点就可以统一操作。遍历到结尾的时候，需要考虑如果链表长度为奇数那么就不能交换，这个地方需要一些额外的逻辑。

## 代码实现

```python
# Definition for singly-linked list.
# class ListNode:
#     def __init__(self, val=0, next=None):
#         self.val = val
#         self.next = next
class Solution:
    def swapPairs(self, head: Optional[ListNode]) -> Optional[ListNode]:
        # 链表长度为 0 和 1 的时候比较特殊，需要单独处理
        if head is None:
            return None
        elif head.next is None:
            return head
        # 一般情况
        virtual_head = ListNode(0, head)
        pre = virtual_head
        cur = head
        nxt = cur.next
        while nxt is not None:
            # 经分析，结束条件是可以统一成 nxt is None 的，只要 nxt 不是 none 那么就可以继续操作
            # 翻转操作
            pre.next = nxt
            cur.next = nxt.next
            nxt.next = cur
            # 移动三个指针准备下次交换操作
            pre = pre.next.next
            cur = pre.next
            if cur is not None:
                nxt = cur.next
            else:
                nxt = None
        return virtual_head.next
        
```

## 看录后想法

题目比较基础，没有太多可以发挥的地方，所以我的思路和代码随想录几乎是一模一样的。

## 小结

没什么好说的。