# Git 分布式版本控制工具

# 1 目标

- 了解 git 的基本概念
- 能够概述 git 工作流程
- 能够使用 git 常用命令
- 熟悉 git 代码托管服务
- 能够使用 idea 操作 git

## 2 概述

## 2.1 开发中的实际场景

场景一：备份

​	小明负责的模块就要完成了，就在即将 Release 之前的一瞬间，电脑突然蓝屏，硬盘光荣牺牲！几个月来的努力付诸东流。

场景二：代码还原

​	这个项目中需要一个很复杂的功能，老王摸索了一个星期终于有眉目了，可是这被改得面目全非的代码已经回不到从前了。什么地方可以买到哆啦 A 梦的时光机啊？

场景三：协同开发

​	小刚和小强先后从文件服务器上下载了同一个文件：Analysis.java。小刚在 Analysis.java 文件中的第 30 行声明了一个方法，叫 count()，先保存到了文件服务器上；小强在 Analysis.java 文件中的第 50 行声明了一个方法，叫 sum()，也随后保存到了文件服务器上，于是，count() 方法就只存在于小刚的记忆中了。

场景四：追溯问题代码

​	老王是另一位项目经理，每次因为项目进度挨骂之后，他都不知道该扣哪个程序员的工资！就拿这次来说吧，有个 bug 调试了 30 多个小时才知道是因为相关属性没有在应用初始化时赋值！可是二胖、王东、刘流和正经牛都不承认是自己干的！

## 2.2 版本控制器的方式

a. 集中式版本控制工具

​	集中式版本控制工具，版本库是集中存放在中央服务器的，team 里每个人 work 时从中央服务器下载代码，是必须联网才能工作，局域网或互联网。个人修改然后提交到中央版本库。

​	举例：SVN 和 CVS

b. 分布式版本控制工具

​	分布式版本控制系统没有“中央服务器”，每个人的电脑上都是一个完整的版本库，这样工作的时候，不需要联网了，因为版本库就在你自己的电脑上。多人协作只需要各自的修改推送给对方，就能互相看到对方的修改了。

## 2.3 SVN

![](assets/Git%20分布式版本控制工具/Git%20分布式版本控制工具.png)

## 2.4 Git

git 是分布式的，git 不需要中央服务器，我们每台电脑拥有的东西是一样的。我们使用 git 并且有个中心服务器，仅仅是为了方便大家的修改，但是这个服务器的地位和我们每个人的 PC 是一样的。我们可以把它当做一个开发者的 pc 就可以，它就是为了大家代码容易交流设置的。没有它一样可以工作，只不过“交换”修改不方便而已。

git 是一个开源的分布式版本控制系统，可以有效、高速地处理从很小到非常大的项目版本管理。git 是 linus torvalds 为了帮助管理 linux 内核开发而开发的一个开放源码的版本控制软件。

同生活中的许多伟大事物一样，git 诞生于一个极富纷争大举创新的年代。Linux 内核开源项目有着为数众多的参与者，绝大多数的 Linux 内核维护工作都花在了提交补丁和保存归档的繁琐事务上（1991-2002年间）。到 2002 年，整个项目组开始启用一个专有的分布式版本控制系统 BitKeeper 来管理和维护代码。

到了 2005 年，开发 BitKeeper 的商业公司同 Linux 内核开源社区的合作关系结束，他们收回了 Linux 内核社区免费使用 BitKeeper 的权利。这就迫使 Linux 开源社区（特别是 Linux 的缔造者 Linus Torvalds）基于使用 BitKeeper 时的经验教训，开发出自己的版本系统。他们对新的系统指定了若干目标：

- 速度
- 简单的设计
- 对非线性开发模式的强力支持（允许成千上万个并行开发的分支）
- 完全分布式
- 有能力高效管理类似 Linux 内核一样的超大规模项目（速度和数据量）

![](assets/Git%20分布式版本控制工具/Git%20分布式版本控制工具-1.png)

## 2.5 Git 工作流程图

![](assets/Git%20分布式版本控制工具/Git%20分布式版本控制工具-2.png)

命令如下：

1.   clone（克隆）：从远程仓库中克隆代码到本地仓库
2.   checkout（检出）：从本地仓库中检出一个仓库分支然后进行修订
3.   add（添加）：在提交前先将代码提交到暂存区
4.   commit（提交）：提交到本地仓库。本地仓库中保存修改的各个历史版本
5.   fetch（抓取）：从远程库，抓取到本地仓库，不进行任何的合并动作，一般操作比较少
6.   pull（拉取）：从远程库拉到本地库，自动进行合并（merge），然后放到工作区，相当于 fetch + merge
7.   push（推送）：修改完成后，需要和团队成员共享代码时，将代码推送到远程仓库

# 3 Git 安装与常用命令

本教程里的 git 命令例子都是在 Git Bash 中演示的，会用到一些基本的 linux 命令，在此为大家提前列举：

-   ls/ll 查看当前目录
-   cat 查看文件内容
-   touch 创建文件
-   vi vi 编辑器（使用 vi 编辑器是为了方便展示效果，学员可以用记事本、editPlus、notPad++ 等其他编辑器）

## 3.1 Git 配置环境

### 3.1.1 下载与安装

下载地址：[Click Here](https://git-scm.com/download)

具体的安装方法不再赘述，这里给出一些说明：

- Git GUI：Git 提供的图形界面工具
- Git Bash：Git 提供的命令行工具

当安装 Git 后优先要做的事情就是设置用户名称和 email 地址，这是非常重要的，因为每次 Git 提交都会使用该用户信息。

### 3.1.2 基本配置

1. 打开 Git Bash
2. 设置用户信息

```
git config --global user.name "itcast"
git config --global user.email "hello@itcast.cn"
```

3.   查看配置信息

```
git config --global user.name
git config --global user.email
```

### 3.1.3 为常用指令配置别名（可选）

有些常用的指令参数非常多，每次都要输入好多参数，我们可以使用别名。

1.   打开用户目录，创建 `.bashrc` 文件。部分 Windows 系统不允许用户创建点号开头的文件，可以打开 gitBash，执行 `touch ~/.bashrc`
2.   在 `.bashrc` 文件中输入如下内容：

``` bash
#用于输出 git 提交日志
alias git-log='git log --pretty=oneline --all --graph --abbrev-commit'
#用于输出当前目录所有文件及基本信息
alias ll='ls -al'
```

3.   打开 Git Bash，执行 `source ~/.bashrc`

### 3.1.4 解决 Git Bash 乱码的问题

1.   打开 Git Bash 执行下面的命令

```bash
git config --global core.quotepath false
```

2.   ${git_home}/etc/bash.bashrc 文件最后加入下面两行

```bash
export LANG="zh_CN.UTF-8"
export LC_ALL="zh_CN.UTF-8"
```

##  3.2 获取本地仓库

要使用 Git 对我们的代码进行版本控制，首先需要获得本地仓库。

1.   在电脑的任意位置创建一个空目录，例如 test ，作为我们的本地 git 仓库。
2.   进入这个目录中，点击右键打开 Git Bash 窗口。
3.   执行命令 `git init`。
4.   如果创建成功后可在文件夹下看到隐藏的 `.git` 目录。

![](assets/Git%20分布式版本控制工具/Git%20分布式版本控制工具-3.png)

## 3.3 基础操作指令

git 工作目录下对于文件的修改（增加、删除、更新）会存在几个状态，这些修改的状态会随着我们执行 git 的命令而发生变化。

![](assets/Git%20分布式版本控制工具/Git%20分布式版本控制工具-4.png)

本章节主要讲解如何使用命令来控制这些状态之间的转换：

1.   `git add`（工作区 -> 暂存区）
2.   `git commit`（暂存区 -> 本地仓库）

### 3.3.1 \*查看修改的状态（status）

-   作用：查看修改的状态（暂存区、工作区）
-   命令形式：`git status`

### 3.3.2 \*添加工作区到暂存区（add）

-   作用：添加工作区一个或多个文件的修改到暂存区
-   命令形式：`git add 单个文件名 | 通配符`

### 3.3.3 \*提交暂存区到本地仓库（commit）

-   作用：提交暂存区内容到本地仓库的当前分支
-   命令形式：`git commit -m '注释内容'`

### 3.3.4 \*查看提交日志（log）

**在 3.1.3 中配置的别名 `git-log` 就包含了这些参数，所以后续可以直接使用指令 `git-log`**

-   作用：查看提交记录
-   命令形式：`git log [option]`
    -   options:
        -   `--all` 显示所有分支
        -   `--pretty=oneline` 将提交信息显示为一行
        -   `--abbrev-commit` 使得输出的 commitID 更简短
        -   `--graph` 以图的形式显示

### 3.3.5 版本回退 reset

-   作用：版本切换
-   命令形式：`git reset --hard commitID`
    -   commitID 可以使用 `git-log` 或 `git log` 指令查看
-   如何查看已经删除的记录？
    -   `git reflog`
    -   这个指令可以看到已经删除的提交记录
-   参数说明：
    -   `git reset --soft` 回退后，工作区暂存区文件依然保留
    -   `git reset --mixed` 默认方式，工作区保留，暂存区不保留
    -   `git reset --hard` 回退后，工作区暂存区文件都不保留，是一个完全的回退
    

### 3.3.6 添加文件至忽略列表 .gitignore

一般我们总会有些文件无需纳入 git 的管理，也不希望它们总出现在未跟踪文件列表。通常都是些自动生成的文件，比如日志文件，或者编译过程中创建的临时文件等。在这种情况下，我们可以在工作目录中创建一个名为 `.gitignore` 的文件（文件名称固定），列出要忽略的文件模式。下面是一个示例：

```bash
# no .a files
*.a
# but do track lib.a, even though you're ignoring .a files above
!lib.a
# only ignore the TODO file in the current directory, no subdir /TODO
/TODO
# ignore all files in the build/ directory
build/
# ignore doc/notes.txt, but not doc/server/arch.txt
doc/*.txt
# ignore all .pdfs files in the doc/ directory
doc/**/*.pdf
```

不纳入版本库的文件原则：

-   系统或者软件自动生成的文件
-   编译生成的中间文件和结果文件
-   系统运行过程中生成的日志文件、缓存文件、临时文件
-   涉及身份、密码、口令、密钥等敏感信息文件

### 3.3.7 查看版本差异 git diff

-   命令：`git diff`
    -   作用：比较工作区和暂存区之间的内容差异，会显示更改的文件和更改的详细信息。
-   命令：`git diff HEAD`
    -   作用：比较工作区和版本库之间的内容差异。
    -   额外说明：`HEAD` 专指最后一次提交后的状态，和最新的 commitID 是等价的。
        -   额外说明：`HEAD～` 和 `HEAD^` 专指 `HEAD` 上一个版本。
        -   额外说明：`HEAD~X` 表示 `HEAD` 的上 `X` 个版本，显然 `X` 默认为1。
-   命令：`git diff --cached`
    -   作用：比较暂存区和版本库之间的内容差异。
-   命令：`git diff 版本1id 版本2id`
    -   作用：比较两个提交版本之间的差异
    -   额外说明：本命令后面还可以再添加一个具体的文件名，这样就只比较两个版本中该文件的差异。
-   命令：`git diff <branchName1> <branchName2>`
    -   作用：比较两个分支之间的差异

### 3.3.8 删除文件

-   **第一种方式：直接删除文件之后 add 再 commit**
-   **第二种方式：**`git rm filename`，相当于第一种方式的删除和 add 操作放在了一起。

### 3.3.9 查看暂存区内容 git ls-files

略。

### 练习：基础操作

```bash
#############仓库初始化###############
# 创建目录（git_test01）并在目录下打开 gitbash
mkdir git_test01
# 初始化 git 仓库
git init

############创建文件并提交#############
# 目录下创建文件 file01.txt
touch file01.txt
# 将修改加入暂存区
git add .
# 将修改提交到本地仓库，提交记录内容：commit 001
git commit -m 'commit 001'
# 查看日志
git log

############修改文件并提交#############
# 修改 file01 的内容为：count=1
略
# 将修改提交到本地仓库，提交记录内容为：update file01
git commit -m 'update file01'
# 查看日志
git log
# 以精简的方式显示提交记录
git-log

##########将最后一次修改还原############
# 查看提交记录
git-log
# 找到倒数第 2 次提交的 commitID
# 版本回退
git reset commitID --hard
```

## 3.4 分支

几乎所有的版本控制系统都以某种形式支持分支。使用分支意味着你可以把你的工作从开发主线上分离开来进行重大的 bug 修改、开发新的功能，以免影响开发主线。

### 3.4.1 查看本地分支

-   命令：`git branch`

### 3.4.2 创建本地分支

-   命令：`git branch 分支名`

### 3.4.3 *切换分支（checkout）

-   命令：`git checkout 分支名`

我们还可以直接切换到一个不存在的分支（创建并切换）

-   命令：`git checkout -b 分支名`

### 3.4.4 *合并分支（merge）

一个分支上的提交可以合并到另一个分支

-   命令：`git merge 分支名称`

### 3.4.5 删除分支

**不能删除当前的分支，只能删除其他分支**

-   `git branch -d b1` 删除分支时，需要做各种检查
-   `git branch -D b1` 不做任何检查，强制删除

### 3.4.6 解决冲突

当两个分支上对文件的修改可能会存在冲突，例如同时修改了同一个文件的同一行，这时就需要手动解决冲突，解决冲突步骤如下：

1.   处理文件中冲突的地方
2.   将解决完冲突的文件加入暂存区（add）
3.   提交到仓库（commit）

冲突部分的内容处理如下所示：

![](assets/Git%20分布式版本控制工具/Git%20分布式版本控制工具-5.png)

### 3.4.7 开发中分支使用原则与流程

几乎所有的版本控制系统都以某种形式支持分支。使用分支意味着你可以把你的工作从开发主线上分离开来进行重大的 bug 修改、开发新的功能，以免影响开发主线。

在开发中，一般有如下分支使用原则与流程：

-   master（生产）分支
    -   线上分支，主分支，中小规模项目作为线上运行的应用对应的分支
-   develop（开发）分支
    -   是从 master 创建的分支，一般作为开发部门的主要开发分支，如果没有其他并行开发不同期上线要求，都可以在此版本进行开发，阶段开发完成后，需要是合并到 master 分支，准备上线。
-   featur/xxxx 分支
    -   从 develop 创建的分支，一般是**同期并行开发**，但**不同期上线**时创建的分支，分支上的研发任务完成后合并到 develop 分支。
-   hotfix/xxxx 分支
    -   从 master 派生的分支，一般作为**线上 bug 修复使用**，修复完成后需要合并到 master、test、develop 分支。
-   还有一些其他分支，在此不再详述，例如 test 分支（用于代码测试）、pre 分支（预上线分支）等等。

![](assets/Git%20分布式版本控制工具/Git%20分布式版本控制工具-6.png)

### 练习：分支操作

```bash
######创建并切换到 dev01 分支，在 dev01 分支提交
# [master] 创建分支 dev01
git branch dev01
# [master] 切换到 dev01
git checkout dev01
# [dev01] 创建文件 file02.txt
touch file02.txt
# [dev01] 将修改加入暂存区并提交到仓库，提交记录内容为：add file02 on dev
git add .
git commit -m 'add file02 on dev'
# [dev01] 以精简的方式显示提交记录
git-log

######切换到 master 分支，将 dev01 合并到 master 分支
# [dev01] 切换到 master 分支
git checkout master
# [master] 合并 dev01 到 master 分支
git merge dev01
# [master] 以精简的方式显示提交记录
git-log
# [master] 查看文件变化（目录下也出现了 file02.txt）
略

###### 删除 dev01 分支
# [master] 删除 dev01 分支
git branch -d dev01
# [master] 以精简的方式显示提交记录
git-log
```

# 4 git 远程仓库

## 4.1 常用的托管服务 [远程仓库]

前面我们已经知道了 git 中存在两种类型的仓库，即本地仓库和远程仓库。那么我们如何搭建 git 远程仓库呢？我们可以借助互联网上提供的一些代码托管服务来实现，其中比较常用的有 github、码云、gitlab 等。

-   github（https://github.com/）是一个面向开源及私有软件项目的托管平台，因为只支持 git 作为唯一的版本库格式进行托管，故名 github。
-   码云（https://gitee.com/）是国内的一个代码托管平台，由于服务器在国内，所以相比于 github，码云速度会更快。
-   gitlab（https://about.gitlab.com/）是一个用于仓库管理系统的开源项目，使用 git 作为代码管理工具，并在此基础上搭建起来的 web 服务，一般用于在企业、学校等内部网络搭建 git 私服。

## 4.2 注册码云

要想使用码云的相关服务，需要注册账号（地址：https://gitee.com/signup）

## 4.3 创建远程仓库

![](assets/Git%20分布式版本控制工具/Git%20分布式版本控制工具-7.png)

仓库创建完成后可以看到仓库地址，如下图所示：

![](assets/Git%20分布式版本控制工具/Git%20分布式版本控制工具-8.png)

## 4.4 配置 SSH 公钥

-   生成 SSH 公钥
    -   `ssh-keygen -t rsa`
    -   不断回车
        -   如果公钥已经存在，则自动覆盖
-   gitee 设置账户公钥
    -   获取公钥
        -   `cat ~/.ssh/id_rsa.pub`
    -   ![](assets/Git%20分布式版本控制工具/Git%20分布式版本控制工具-9.png)
    -   验证是否配置成功
        -   `ssh -T git@gitee.com`

## 4.5 操作远程仓库

### 4.5.1 添加远程仓库

**此操作是先初始化本地库，然后与已创建的远程库进行对接。**

-   命令：`git remote add <远端名称><仓库路径>`
    -   远端名称，默认是 origin，取决于远端服务器设置
    -   仓库路径，从远端服务器获取此 URL
    -   例如：`git remote add origin git@gitee.com:czbk_zhang-meng/git_test.git`

### 4.5.2 查看远程仓库

-   命令：`git remote`

### 4.5.3 推送到远程仓库

-   命令：`git push [-f][--set-upstream][远端名称[本地分支名][:远端分支名]]`
    -   如果远程分支名和本地分支名称相同，则可以只写本地分支
        -   `git push origin master`
    -   `-f` 表示强制覆盖
    -   `--set-upstream` 推送到远端的同时并且建立起和远端分支的关联关系
        -   `git push --set-upstream origin master`
    -   如果**当前分支已经和远端分支关联**，则可以省略分支名和远端名
        -   `git push` 将 `master` 分支推送到已关联的远端分支。

![](assets/Git%20分布式版本控制工具/Git%20分布式版本控制工具-10.png)

查询远程仓库

![](assets/Git%20分布式版本控制工具/Git%20分布式版本控制工具-11.png)

### 4.5.4 本地分支与远程分支的关联关系

-   查看关联关系我们可以使用 `git branch -vv` 命令

![](assets/Git%20分布式版本控制工具/Git%20分布式版本控制工具-12.png)

### 4.5.5 从远程仓库克隆

如果已经有一个远端仓库，我们可以直接 clone 到本地。

-   命令：`git clone <仓库路径>[本地目录]`
    -   本地目录可以省略，会自动生成一个目录

![](assets/Git%20分布式版本控制工具/Git%20分布式版本控制工具-13.png)

### 4.5.6 从远程仓库中抓取和拉取

远程分支和本地的分支一样，我们可以进行 merge 操作，只是需要先把远端仓库里的更新都下载到本地，再进行操作。

-   抓取命令：`git fetch [remote name][branch name]`
    -   抓取指令就是将仓库里的更新都抓取到本地，**不会进行合并**
    -   如果不指定远端名称和分支名，则抓取所有分支
-   拉取命令：`git pull [remote name][branch name]`
    -   拉取指令就是将远端仓库的修改拉到本地并自动进行合并，等同于 fetch + merge
    -   如果不指定远端名称和分支名，则抓取所有并更新当前分支

1.   在 test01 这个本地仓库进行一次提交并推送到远程仓库

![](assets/Git%20分布式版本控制工具/Git%20分布式版本控制工具-14.png)

2.   在另一个仓库将远程提交的代码拉取到本地仓库

![](assets/Git%20分布式版本控制工具/Git%20分布式版本控制工具-15.png)

### 4.5.7 解决合并冲突

在一段时间，A、B 用户修改了同一个文件，且修改了同一行位置的代码，此时会发生合并冲突。

A 用户在本地修改代码后优先推送到远程仓库，此时 B 用户在本地修订代码，提交到本地仓库后，也需要推送到远程仓库，此时 B 用户晚于 A 用户，故需要**先拉取远程仓库的提交**，经过合并后才能推送到远端分支，如下图所示。

![](assets/Git%20分布式版本控制工具/Git%20分布式版本控制工具-16.png)

在 B 用户拉取代码时，因为 A、B 用户同一段时间修改了同一个文件的相同位置代码，故会发生合并冲突。

远程分支也是分支，所以合并时冲突的解决方式也和解决本地分支冲突相同，在此不再赘述，需要学员自己练习。

### 练习：远程仓库操作

```bash
###### 1-将本地仓库推送到远程仓库
# 完成 4.1、4.2、4.3、4.4 的操作
略
# [git_test01]添加远程仓库
git remote add origin git@gitee.com/Xuchiishere/git.git
# [git_test01]将 master 分支推送到远程仓库，并与远程仓库的 master 分支绑定关联关系
git push --set-upstream origin main

###### 2-将远程仓库克隆到本地
# 将远程仓库克隆到本地 git_test02 目录下
git clone git@gitee.com/Xuchiishere/git.git git_test02
# [git_test02]以精简的方式显示提交记录
git-log

###### 3-将本地修改推送到远程仓库
# [git_test01]创建文件 file03.txt
略
# [git_test01]将修改加入暂存区并提交到仓库，提交记录内容为：add file03
git add .
git commit -m 'add file03'
# [git_test01] 将 master 分支的修改推送到远程仓库
git push origin master

###### 4-将远程仓库的修改更新到本地
# [git_test02] 将远程仓库的修改再拉取到本地
git pull
# 以精简的方式显示提交记录
git-log
# 查看文件变化（目录中也出现了 file03.txt）
略
```

# 5 在 Idea 中使用 git

## 5.1 在 Idea 中配置 git

安装好 IntelliJ IDEA 后，如果 git 安装在默认路径下，那么 idea 会自动找到 git 的位置，如果更改了 git 的安装位置则需要手动配置下 git 的路径。选择 File->Settings 打开设置窗口，找到 Version Control 下的 git 选项：

![](assets/Git%20分布式版本控制工具/Git%20分布式版本控制工具-17.png)

点击 Test 按钮，现在执行成功，配置完成。

![image-20250413112742754](assets/Git%20分布式版本控制工具/Git%20分布式版本控制工具-18.png)

## 5.2 在 Idea 中操作 git

场景：本地已经有一个项目，但是并不是 git 项目，我们需要将这个放到码云的仓库里，和其他开发人员继续一起协作开发。

### 5.2.1 创建项目远程仓库（参照 4.3）

![](assets/Git%20分布式版本控制工具/Git%20分布式版本控制工具-19.png)

### 5.2.2 初始化本地仓库

![](assets/Git%20分布式版本控制工具/Git%20分布式版本控制工具-20.png)

### 5.2.3 设置远程仓库

![](assets/Git%20分布式版本控制工具/Git%20分布式版本控制工具-21.png)

### 5.2.4 提交到本地仓库

![](assets/Git%20分布式版本控制工具/Git%20分布式版本控制工具-22.png)

### 5.2.5 推送到远程仓库

![](assets/Git%20分布式版本控制工具/Git%20分布式版本控制工具-23.png)

### 5.2.6 克隆远程仓库到本地

![](assets/Git%20分布式版本控制工具/Git%20分布式版本控制工具-24.png)

### 5.2.7 创建分支

-   最常规的方式

![](assets/Git%20分布式版本控制工具/Git%20分布式版本控制工具-25.png)

-   最强大的方式

![](assets/Git%20分布式版本控制工具/Git%20分布式版本控制工具-26.png)

### 5.2.8 切换分支及其他分支相关操作

![](assets/Git%20分布式版本控制工具/Git%20分布式版本控制工具-27.png)

### 5.2.9 解决冲突

1.   执行 merge 或 pull 操作时，可能发生冲突

![](assets/Git%20分布式版本控制工具/Git%20分布式版本控制工具-28.png)

2.   冲突解决后加入暂存区

​	略

3.   提交到本地仓库

​	略

4.   推送到远程仓库

​	略

## 5.3 IDEA 常用 git 操作入口

1.   第一张图上的快捷入口可以基本满足开发的需求。

![](assets/Git%20分布式版本控制工具/Git%20分布式版本控制工具-29.png)

2.   第二张图是更多在 IDEA 操作 git 的入口。

![](assets/Git%20分布式版本控制工具/Git%20分布式版本控制工具-30.png)

## 5.4 场景分析

基于我们后面的实战模式，我们做一个综合练习

当前的开发环境如下，我们每个人都对这个项目已经开发了一段时间，接下来我们要切换团队开发模式。

也就是我们由一个团队来完成这个项目实战的内容。团队有组长和若干组员组成（组长就是开发中的项目经理）。

所有操作都在 IDEA 中完成。

练习场景如下：

1.   由组长，基于本项目创建本地仓库；创建远程仓库，推送项目到远程仓库。

![](assets/Git%20分布式版本控制工具/Git%20分布式版本控制工具-31.png)

2.   每一位组员从远程仓库克隆项目到 IDEA 中，这样每位同学在自己电脑上就有了一个工作副本，可以正式的开始开发了。我们模拟两个组员（组员A、组员B），克隆两个分区。

![](assets/Git%20分布式版本控制工具/Git%20分布式版本控制工具-32.png)

3.   组员 A 修改工作区，提交到本地仓库，再推送到远程仓库。组员 B 可以直接从远程仓库获取最新的代码。

![](assets/Git%20分布式版本控制工具/Git%20分布式版本控制工具-33.png)

4.   组员 A 和组员 B 修改了同一个文件的同一行，提交到本地没有问题，但是推送到远程仓库的时候，后一个推送操作失败。
     1.   解决方法：需要先获取远程仓库的代码到本地仓库，编辑冲突，提交并推送代码。

![](assets/Git%20分布式版本控制工具/Git%20分布式版本控制工具-34.png)

# 附录：几条铁令

1.   切换分支前先提交本地的修改。
2.   代码及时提交，提交过了就不会丢。
3.   遇到任何问题都不要删除文件目录。

# 附录：疑难问题解决

1.   Windows 下看不到隐藏的文件
2.   Windows 下无法创建 .ignore|.bashrc 文件

# 附录：IDEA 集成 GitBash 作为 Terminal

![](assets/Git%20分布式版本控制工具/Git%20分布式版本控制工具-35.png)